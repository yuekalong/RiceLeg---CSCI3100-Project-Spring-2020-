{"remainingRequest":"/Users/yuekalong/Desktop/Year 3 Sem 2/CSCI3100/Project/RiceLeg---CSCI3100-Project-Spring-2020-/front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuekalong/Desktop/Year 3 Sem 2/CSCI3100/Project/RiceLeg---CSCI3100-Project-Spring-2020-/front_end/src/components/matching/MyInvitation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuekalong/Desktop/Year 3 Sem 2/CSCI3100/Project/RiceLeg---CSCI3100-Project-Spring-2020-/front_end/src/components/matching/MyInvitation.vue","mtime":1589641334000},{"path":"/Users/yuekalong/Desktop/Year 3 Sem 2/CSCI3100/Project/RiceLeg---CSCI3100-Project-Spring-2020-/front_end/node_modules/cache-loader/dist/cjs.js","mtime":1583842195418},{"path":"/Users/yuekalong/Desktop/Year 3 Sem 2/CSCI3100/Project/RiceLeg---CSCI3100-Project-Spring-2020-/front_end/node_modules/babel-loader/lib/index.js","mtime":1573785088708},{"path":"/Users/yuekalong/Desktop/Year 3 Sem 2/CSCI3100/Project/RiceLeg---CSCI3100-Project-Spring-2020-/front_end/node_modules/vuetify-loader/lib/loader.js","mtime":1584457032094},{"path":"/Users/yuekalong/Desktop/Year 3 Sem 2/CSCI3100/Project/RiceLeg---CSCI3100-Project-Spring-2020-/front_end/node_modules/cache-loader/dist/cjs.js","mtime":1583842195418},{"path":"/Users/yuekalong/Desktop/Year 3 Sem 2/CSCI3100/Project/RiceLeg---CSCI3100-Project-Spring-2020-/front_end/node_modules/vue-loader/lib/index.js","mtime":1573785100670}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { service } from \"@/plugins/request_service\";\n\nexport default {\n  props: [\"requestID\"], // get the requestID from myRequest\n  data: () => ({\n    dialog: false, //dialog boolean for popup or not\n    // the header of the card\n    headers: [\n      { text: \"Display Name\", value: \"displayName\" },\n      { text: \"Year\", value: \"year\" },\n      { text: \"Major\", value: \"major\" },\n      { text: \"College\", value: \"college\" },\n      { text: \"Self Introduction\", value: \"selfIntro\" }\n    ],\n    invitations: [], // the invitations\n    confirmDialog: false, //confirm dialog boolean for popup or not\n    selectedUser: \"\" // selected user information\n  }),\n  methods: {\n    // get the invitation\n    fetchData() {\n      service.get(`/matching/getInvitation/${this.requestID}`).then(res => {\n        if (res.data.success) {\n          this.invitations = res.data.data;\n          this.dialog = true;\n        }\n      });\n    },\n    // open the dialog\n    openConfirmDialog(object) {\n      this.dialog = false;\n      this.selectedUser = object;\n      this.confirmDialog = true;\n    },\n    // accept the invitation\n    acceptInvite() {\n      const info = {\n        username_A: this.$store.state.user.username,\n        username_B: this.selectedUser.username,\n        requestID: this.selectedUser.requestID\n      };\n      service\n        .post(\"/matching/acceptInvitation\", {\n          info: JSON.stringify(info) // pass the information into back-end by using body of the request\n        })\n        .then(res => {\n          if (res.data.success) {\n            this.confirmDialog = false;\n            this.$emit(\"refresh\"); //emit to parent myRequest to refresh\n          }\n        });\n    }\n  }\n};\n",{"version":3,"sources":["MyInvitation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyInvitation.vue","sourceRoot":"src/components/matching","sourcesContent":["/*\n * MODULE NAME: MYINVITATION\n * PROGRAMMER: YUE KA LONG\n * VERSION: 1.0 (16 MAY 2020)\n *\n * PURPOSE: THIS IS THE MYINVITATION PAGE WHICH IS THE DIALOG(POP-UP) WINDOW \n *          THAT AFTER CLICK THE REQUEST ON MYREQUEST PAGE\n *\n */\n<template>\n  <div>\n    <v-btn color=\"primary\" text @click=\"fetchData\">View Invitations</v-btn>\n    <v-dialog v-model=\"dialog\" max-width=\"80%\">\n      <v-card width=\"100%\" height=\"100%\">\n        <v-card-title class=\"headline secondary--text\">Invitations</v-card-title>\n        <v-row no-gutters>\n          <v-col v-if=\"invitations.length == 0\">\n            <v-card-title\n              class=\"justify-center headline primary--text\"\n            >No invitation yet, please wait...</v-card-title>\n          </v-col>\n          <v-col\n            v-for=\"object in invitations\"\n            :key=\"object.invitationID\"\n            cols=\"12\"\n            sm=\"6\"\n            class=\"hidden-sm-and-down\"\n          >\n            <v-card outlined class=\"ma-3\" centered min-height=\"90%\">\n              <v-list-item three-line>\n                <v-list-item-content>\n                  <v-list-item-title\n                    class=\"display-1 text-uppercase my-0 py-1 primary--text\"\n                  >{{ object.displayName }}</v-list-item-title>\n                  <div class=\"headline px-5 secondary--text\">Year {{ object.year }}</div>\n                  <div class=\"headline px-5 secondary--text\">{{ object.major }}</div>\n                  <div class=\"headline px-5 secondary--text\">{{ object.college }}</div>\n                  <div\n                    class=\"subtitle-1 px-5 secondary--text\"\n                    style=\"word-break: break-all;\"\n                  >{{ object.selfIntro }}</div>\n                </v-list-item-content>\n                <v-list-item-avatar tile size=\"175\" color=\"grey\">\n                  <v-img\n                    class=\"white--text align-end dark\"\n                    src=\"@/assets/matching_photo/meal_1.jpg\"\n                    gradient=\"to bottom, rgba(255, 255, 255, 0), rgba(0, 0, 0, 0.4)\"\n                  ></v-img>\n                </v-list-item-avatar>\n              </v-list-item>\n              <v-card-actions>\n                <v-spacer />\n                <v-btn outlined color=\"green\" @click=\"openConfirmDialog(object)\">Accept!</v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-col>\n\n          <v-col\n            v-for=\"object in invitations\"\n            :key=\"object.invitationID\"\n            cols=\"12\"\n            sm=\"6\"\n            class=\"hidden-md-and-up\"\n          >\n            <v-card outlined class=\"ma-3\" centered min-height=\"90%\">\n              <v-img\n                class=\"white--text align-end dark\"\n                src=\"@/assets/matching_photo/meal_1.jpg\"\n                gradient=\"to bottom, rgba(255, 255, 255, 0), rgba(0, 0, 0, 0.4)\"\n              ></v-img>\n              <v-list-item three-line>\n                <v-list-item-content>\n                  <v-list-item-title\n                    class=\"display-1 text-uppercase my-0 py-1 primary--text\"\n                  >{{ object.displayName }}</v-list-item-title>\n                  <div class=\"headline px-5 secondary--text\">Year {{ object.year }}</div>\n                  <div class=\"headline px-5 secondary--text\">{{ object.major }}</div>\n                  <div class=\"headline px-5 secondary--text\">{{ object.college }}</div>\n                  <div\n                    class=\"subtitle-1 px-5 secondary--text\"\n                    style=\"word-break: break-all;\"\n                  >{{ object.selfIntro }}</div>\n                </v-list-item-content>\n              </v-list-item>\n              <v-card-actions>\n                <v-spacer />\n                <v-btn outlined color=\"green\" @click=\"openConfirmDialog(object)\">Accept!</v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog v-model=\"confirmDialog\" max-width=\"50%\">\n      <v-card width=\"100%\" height=\"100%\" style=\"text-align:center;\">\n        <v-card-title class=\"headline justify-center\">\n          Are you sure to accept\n          {{ selectedUser.displayName }} invitation?\n        </v-card-title>\n        <v-card-text>\n          You can't accept other invitation once you accept this\n          one.\n        </v-card-text>\n        <v-btn color=\"secondary\" text @click=\"confirmDialog = false\">Go back</v-btn>\n        <v-btn color=\"primary\" text @click=\"acceptInvite()\">Yes</v-btn>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script>\nimport { service } from \"@/plugins/request_service\";\n\nexport default {\n  props: [\"requestID\"], // get the requestID from myRequest\n  data: () => ({\n    dialog: false, //dialog boolean for popup or not\n    // the header of the card\n    headers: [\n      { text: \"Display Name\", value: \"displayName\" },\n      { text: \"Year\", value: \"year\" },\n      { text: \"Major\", value: \"major\" },\n      { text: \"College\", value: \"college\" },\n      { text: \"Self Introduction\", value: \"selfIntro\" }\n    ],\n    invitations: [], // the invitations\n    confirmDialog: false, //confirm dialog boolean for popup or not\n    selectedUser: \"\" // selected user information\n  }),\n  methods: {\n    // get the invitation\n    fetchData() {\n      service.get(`/matching/getInvitation/${this.requestID}`).then(res => {\n        if (res.data.success) {\n          this.invitations = res.data.data;\n          this.dialog = true;\n        }\n      });\n    },\n    // open the dialog\n    openConfirmDialog(object) {\n      this.dialog = false;\n      this.selectedUser = object;\n      this.confirmDialog = true;\n    },\n    // accept the invitation\n    acceptInvite() {\n      const info = {\n        username_A: this.$store.state.user.username,\n        username_B: this.selectedUser.username,\n        requestID: this.selectedUser.requestID\n      };\n      service\n        .post(\"/matching/acceptInvitation\", {\n          info: JSON.stringify(info) // pass the information into back-end by using body of the request\n        })\n        .then(res => {\n          if (res.data.success) {\n            this.confirmDialog = false;\n            this.$emit(\"refresh\"); //emit to parent myRequest to refresh\n          }\n        });\n    }\n  }\n};\n</script>\n"]}]}